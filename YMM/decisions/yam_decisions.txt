decisions = {

	yam_bloodline_create = {
		is_high_prio = yes
		potential = { #Player only and doesn't have existing bloodline already
			ai = no
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
			NOT = {
				any_owned_bloodline = {
					has_bloodline_flag = bloodline_yan
				}
			}
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		effect = { #Call linked event that actually gives the bloodline
			#character_event = { id = yam.1 days = 0 }
			create_bloodline = {
				type = yam_bloodline
			}
		}
		ai_will_do = { #Unneeded
			factor = 0
		}
	}
	
	yam_artifacts_create = {
		is_high_prio = yes
		potential = { #Player only
			ai = no
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
			NOT = {
				ROOT = {
					has_artifact = yam_yan
				}
			}
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		effect = { #Call linked event that actually gives the artifacts
			#character_event = { id = yam.2 days = 0 }
			add_artifact = yam_book
			add_artifact = yam_spear
			add_artifact = yam_harp
			add_artifact = yam_yan
			add_artifact = yam_knowledge
		}
		ai_will_do = { #Unneeded
			factor = 0
		}
	}
	
	yam_traits_fix = {
		is_high_prio = yes
		potential = { #Player only and doesn't already have cheat trait
			ai = no
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
			ROOT = {
				trait = clubfooted
				trait = harelip
				trait = hunchback
				trait = imbecile
				trait = inbred
				trait = lisp
				trait = slow
				trait = stutter
				trait = ugly
				trait = weak
			}
			NOT = {
				has_character_flag = hidden_yam
			}
			NOT = {
				ROOT = {
					trait = yat_trait
				}
			}
		}
		effect = { #Calls linked event that actually gives the trait
			#character_event = { id = yam.3 days = 0 }
			remove_trait = inbred
			remove_trait = clubfooted
			remove_trait = harelip
			remove_trait = hunchback
			remove_trait = imbecile
			remove_trait = inbred
			remove_trait = lisp
			remove_trait = slow
			remove_trait = stutter
			remove_trait = ugly
			remove_trait = weak
			add_trait = yat_trait
		}
		ai_will_do = {
			factor = 0
		}
	}

	yam_educate_me = {
		is_high_prio = yes
		potential = { #Player only and doesn't already have all max educations
			ai = no
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
			NOT = {
				AND = {
					ROOT = {
					trait = grey_eminence
					trait = midas_touched
					trait = brilliant_strategist
					trait = elusive_shadow
					trait = mastermind_theologian
					}
				}
			}
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		effect = { #Calls linked event that actually gives all the educations
			#character_event = { id = yam.6 days = 0 }
			add_trait = grey_eminence
			add_trait = brilliant_strategist
			add_trait = midas_touched
			add_trait = elusive_shadow
			add_trait = mastermind_theologian
			remove_trait = naive_appeaser
			remove_trait = underhanded_rogue
			remove_trait = charismatic_negotiator
			remove_trait = misguided_warrior
			remove_trait = tough_soldier
			remove_trait = skilled_tactician
			remove_trait = indulgent_wastrel
			remove_trait = thrifty_clerk
			remove_trait = fortune_builder
			remove_trait = amateurish_plotter
			remove_trait = flamboyant_schemer
			remove_trait = intricate_webweaver
			remove_trait = detached_priest
			remove_trait = martial_cleric
			remove_trait = scholarly_theologian
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	yam_bloodline_destroy = {
		potential = { #Player only and corresponding bloodline exists ingame
			ai = no
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
			any_bloodline = {
				has_bloodline_flag = bloodline_yan
			}
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		effect = { #Call linked event that destroys the bloodline
			#character_event = { id = yam.7 days = 0 }
			any_bloodline = { #Since it's scoped to the player already, you can just check any of their bloodlines for our custom tag
				limit = {
					has_bloodline_flag = bloodline_yan #This scopes to only the custom cheat bloodline
				}
				destroy_bloodline = yes #Destroys the scoped bloodline, this being to the limited one, aka yan line
			}
		}
		ai_will_do = { #Unneeded
			factor = 0
		}
	}
}
targetted_decisions = {
	yam_plus_5_smarts = {
		ai = no
		diplomacy_icon = GFX_yam_artifacts_create
		filter = all_including_me
		from_potential = {
			is_alive = yes
			ai = no
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		potential = {
			is_alive = yes
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
		}
		effect = {
			ROOT = {
				change_diplomacy = 5
				change_martial = 5
				change_stewardship = 5
				change_intrigue = 5
				change_learning = 5
			}
		}
	}
	yam_plus_10_smarts = {
		ai = no
		diplomacy_icon = GFX_yam_artifacts_create
		filter = all_including_me
		from_potential = {
			is_alive = yes
			ai = no
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		potential = {
			is_alive = yes
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
		}
		effect = {
			ROOT = {
				change_diplomacy = 10
				change_martial = 10
				change_stewardship = 10
				change_intrigue = 10
				change_learning = 10
			}
		}
	}
	yam_minus_5_smarts = {
		ai = no
		diplomacy_icon = GFX_yam_artifacts_create
		filter = all_including_me
		from_potential = {
			is_alive = yes
			ai = no
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		potential = {
			is_alive = yes
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
		}
		effect = {
			ROOT = {
				change_diplomacy = -5
				change_martial = -5
				change_stewardship = -5
				change_intrigue = -5
				change_learning = -5
			}
		}
	}
	yam_minus_10_smarts = {
		ai = no
		diplomacy_icon = GFX_yam_artifacts_create
		filter = all_including_me
		from_potential = {
			is_alive = yes
			ai = no
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		potential = {
			is_alive = yes
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
		}
		effect = {
			ROOT = {
				change_diplomacy = -10
				change_martial = -10
				change_stewardship = -10
				change_intrigue = -10
				change_learning = -10
			}
		}
	}
	yam_abdicate = {
		filter = all_including_me
		ai = no
		from_potential = {
			ai = no
			is_alive = yes
			NOT = {
				has_character_flag = hidden_yam
			}
		}
		potential = {
			is_alive = yes
			has_game_rule = {
				name = artifact_mod
				value = enabled
			}
			is_ruler = yes
		}
		allow = {
			always = yes
		}
		effect = {
			ROOT = {
				abdicate = yes
			}
		}
	}
}