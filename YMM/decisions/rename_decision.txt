targetted_decisions = {

    rename_on = {
		diplomacy_icon = GFX_rename
		ai = no
		filter = dynasty #Performance tweak, instead of checking every character, now just checks dynasty members
		
		from_potential = { #Player only
			ai = no
			NOT = {
				has_character_flag = hidden_renaming
			}
		}
		potential = { #Non-player, same dynasty as player
			ai = yes
			dynasty = FROM
			has_game_rule = {
				name = rename_family
				value = enabled
			}
		}
		allow = { #Additional check for same dynasty as player
			dynasty = FROM
		}
		effect = { #Create rename message, taken straight from 'Rename anyone'
	        ROOT = {
		        prompt_name = { player = from type = RENAME_CHARACTER_MESSAGE }
	        }
		}
	}


    rename_self = { #2nd command for renaming self to allow localisation changes
		diplomacy_icon = GFX_rename
		filter = self #Self only
		ai = no
		
		from_potential = { #Player Only
			ai = no
			NOT = {
				has_character_flag = hidden_renaming
			}
		}
		potential = { #Just check if alive
			is_alive = yes
			has_game_rule = {
				name = rename_family
				value = enabled
			}
		}
		allow = { #Always allowed
	        always = yes
		}
		effect = {
	        ROOT = { #Rename message
		        prompt_name = { player = from type = RENAME_CHARACTER_MESSAGE }
	        }
		}
	}
}